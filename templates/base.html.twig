<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Talent Craft{% endblock %}</title>
        <link rel="icon" href="{{ asset('images/logo.png') }}" type="image/x-icon">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="icon" href="./public/images/logo-talent-craft.png">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.6.6/css/flag-icons.min.css"/>
        <link rel="stylesheet" href="{{ asset('style/footer.css') }}">
        <link rel="stylesheet" href="{{ asset('style/navbar.css') }}">
        <link rel="stylesheet" href="{{ asset('style/product.css') }}">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>   

        <style>
            @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
            html {
                background: #F5F5F5;
            }
            .logo img {
                width: 100px;
            }
            body {
                padding: 0px 60px;
                background: #F5F5F5;
                font-family: 'Poppins', sans-serif;

            }

            a {
                text-decoration: none;
            }

            .error {
                width: 100%;
                height: 100%;
                position: fixed;
                top: 0;
                left: 0;
                z-index: 999;
            }

            .msg-error {
                position: absolute;
                top: 10%;
                display: flex;
                flex-direction: column;
                align-items: center;
                z-index: 99999;
                color: rgba(255, 255, 255, 0.85);
                left: 50%;
                transform: translate(-50%, 0);

            }

            .msg-error h3 {
                text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
                font-size: 135px;
                font-weight: 700;
            }
            .msg-error p {
                text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
                font-size: 40px;
                font-weight: 700;
                }
            .language img{
                opacity: 0.6;
                cursor: pointer;
            }
            .language img:hover{
                opacity: 1;
            }
            .language img.active-language {
                opacity: 1;
            }



        </style>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script>

            document.addEventListener("DOMContentLoaded", function() {

                function changerLangue(urlInitiale, nouvelleLangue) {
                    // Remplacer la langue dans l'URL initiale
                    var nouvelleURL = urlInitiale.replace(/\/[a-zA-Z-]+\//, '/' + nouvelleLangue + '/');

                    // Rediriger vers la nouvelle URL
                    window.location.href = nouvelleURL;
                }

                const fr = document.getElementById('fr');
                const en = document.getElementById('en');


                if (fr && en) {
                    let currentUrl = window.location.href;
                    let languageMatch = currentUrl.match(/\/([a-zA-Z-]+)\//);

                    if (languageMatch && languageMatch[1]) {
                        let selectedLanguage = languageMatch[1];
                        fr.classList.toggle('active-language', selectedLanguage === 'fr');
                        en.classList.toggle('active-language', selectedLanguage === 'en');
                        console.log('load');
                    }
                }

                if (fr && en) {
                    fr.addEventListener('click', function() {
                        let currentUrl = window.location.href;
                        fr.classList.add('active-language');
                        en.classList.remove('active-language');
                        changerLangue(currentUrl,'fr');
                        console.log('fr');
                    });

                    en.addEventListener('click', function() {
                        let currentUrl = window.location.href;
                        en.classList.add('active-language');
                        fr.classList.remove('active-language');
                        changerLangue(currentUrl,'en');
                        console.log('en');
                    });
                }
            });

        </script>

        {% block stylesheets %}
        {% endblock %}

        {% block javascripts %}
        {% endblock %}
    </head>
    <body>
    <header>
        {% include 'component/navbar.html.twig' %}
    </header>
        {% for type, messages in app.flashes %}
            {% for msg in messages %}
                <p class="alert alert-{{type}} ">{{msg}} </p>
            {% endfor %}
        {% endfor %}

        {% block body %}{% endblock %}
        {% include 'component/footer.html.twig' %}
    </body>
</html>
